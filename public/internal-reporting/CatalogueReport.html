<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Internal User Data Reports</title>
    <script type="text/javascript" src="https://download.playfab.com/PlayFabClientApi.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.2/xlsx.full.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../styles.css">
    <link rel="stylesheet" type="text/css" href="../catalogue-styles.css">
</head>
<body>
<!-- Dark Mode Toggle Switch -->
<div class="dark-mode-toggle">â˜€
    <label class="switch">.
        <input type="checkbox" id="darkModeSwitch">
        <span class="slider round"></span>
    </label>
</div>
<!-- Login Modal -->
<div id="loginModal" class="modal">
    <div class="modal-content">
        <img src="/immersify_logo.e141b23db21f4b78051561bc464eace7.svg" alt="Immersify Logo" class="login-logo">
        <h2>Login</h2>
        <input type="text" id="username" placeholder="Username"><br>
        <input type="password" id="password" placeholder="Password"><br>
        <input type="button" id="loginButton" value="Login">
    </div>
</div>

<!-- COMPONENTS -->
<div id="report-container" class="form-container">
  <div>
      <h2>Catalogue Report</h2>
      <input id="get-rep-btn" type="button" value="Get Report">
      <h3>Totals</h3>
      <p id="topics-count"><b>Topics:</b>0</p>
      <br/><br/>
      <input type="button" id="toggle-totals-btn" value="Totals" />
      <!-- Totals Table-->
      <table id="totals-table">
        <tr>
            <th></th>
            <th>Area</th>
            <th>Modules</th>
            <th>Topics</th>
            <th>Activities</th>
            <th>Lessons</th>
            <th>Subheadings</th>
            <th>Quiz (A)</th>
            <th>Flashcard (A)</th>
            <th>Sims / Exp</th>
        </tr> 
       </table>
       <br/><br/>
       <!-- Act per topic -->
       <h3>Activities per Topic</h3>
       <input type="button" id="toggle-act-per-topic-btn" value="Activities Per Topic" />
       <table id="act-per-topic-table">
        <tr>
            <th>Area</th>
            <th>Module</th>
            <th>Topic</th>
            <th># Activities</th>
        </tr>
        </table>
       <br/><br/>
       <!-- Lesson Time Est-->
       <h3>Area, Module, Topic, Lesson Time Est.</h3>
       <input type="button" id="toggle-time-est-btn" value="Time Estimates" />
       <table id="lesson-data-table">
        <tr>
            <th>Area</th>
            <th>Module</th>
            <th>Module Time Est.</th>
            <th>Topic</th>
            <th>Topic Time Est.</th>
            <th>Lesson</th>
            <th>Lesson Time Est.</th>
        </tr>
        </table>
       <br/><br/>
       <!-- Experience Time Est-->
       <h3>Area, Module, Topic, Experience Time Est.</h3>
       <input type="button" id="exp-toggle-time-est-btn" value="Time Estimates" />
       <table id="exp-lesson-data-table">
        <tr>
            <th>Area</th>
            <th>Module</th>
            <th>Module Time Est.</th>
            <th>Topic</th>
            <th>Topic Time Est.</th>
            <th>Experience</th>
            <th>Experience Time Est.</th>
        </tr>
        </table>
        <br/><br/>
       <!-- Topics in Feed-->
       <h3>Topics in Feed</h3>
       <input type="button" id="toggle-topics-in-feed-btn" value="Topics in feed" />
       <p id="unique-users-feed">Total Unique Users with topic(s) in feed:</p>
       <table id="topic-usage-table">
        <tr>
            <th>Area</th>
            <th>Topic Id</th>
            <th>Topic Name</th>
            <th># Users</th>
        </tr> 
        </table>
      <br/><br/>
      <!-- Platform Content Graph -->
      <h3>Content Map</h3>
      <div id="platcon-graph-container"></div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.1/dist/confetti.browser.js"></script>
<script type="module" src="../scripts/catalogue/catalogue-rep-front.js"></script>
<script type="module" src="../scripts/PlayFabManager.js"></script>
<script type="module" src="../scripts/utils.js"></script>
<script type="module" src="../scripts/asyncTools.js"></script>
</body>
</html>